{
  "name": "grow.js",
  "version": "0.1.2",
  "dependencies": {
    "ddp": ">=0.11.0",
    "ddp-ejson": ">=0.8.1-3",
    "gulp-closure-compiler": "^0.4.0",
    "later": "^1.2.0",
    "regression": "^1.2.1",
    "time": "^0.11.4",
    "underscore": ">=1.8.3"
  },
  "devDependencies": {
    "assert": "^1.3.0",
    "babel-eslint": "^4.1.8",
    "babel-preset-es2015": "^6.5.0",
    "gulp": "^3.9.0",
    "gulp-babel": "^6.1.2",
    "gulp-concat": "^2.3.4",
    "gulp-connect": "~2.0.6",
    "gulp-eslint": "^2.0.0",
    "gulp-jshint": "^1.8.4",
    "gulp-mocha": "^2.2.0",
    "gulp-plumber": "^0.6.4",
    "gulp-rename": "^1.2.0",
    "gulp-sourcemaps": "^1.6.0",
    "gulp-uglify": "^0.3.1",
    "gulp-util": "^3.0.0",
    "johnny-five": "^0.9.19",
    "raspi-io": "^5.2.0"
  },
  "engines": {
    "node": ">=0.10.38"
  },
  "scripts": {},
  "license": "BSD-3-Clause",
  "main": "./index.js",
  "bugs": {
    "url": "http://github.com/CommonGarden/grow.js/issues"
  },
  "repository": {
    "type": "git",
    "url": "git+ssh://git@github.com/CommonGarden/grow.js.git"
  },
  "maintainers": [
    {
      "name": "mitar",
      "email": "mitar.npm@tnode.com"
    },
    {
      "name": "Jake Hartnell",
      "email": "Jake@commongarden.org"
    }
  ],
  "gitHead": "92f5696749b5ff5aa759667983a1000945c7acce",
  "readme": "[![Slack Status](http://slack.commongarden.org/badge.svg)](http://slack.commongarden.org) | [Feature Requests](http://forum.commongarden.org/c/feature-requests) | [General Feedback](http://forum.commongarden.org/c/feedback)\n\n# Grow.js\nAn npm packagle of useful functions for working with the [Grow-IoT app](https://github.com/CommonGarden/Grow-IoT).\n\nInstall with:\n\n    npm install grow.js\n\n# Developing\n```\ngit clone https://github.com/CommonGarden/grow.js\ncd grow.js\nnpm install\n```\n\n#### Build grow.js with Gulp\nWe use [gulp](http://gulpjs.com/) as our build system, to run the examples or tests, be sure to buld the files in the `/dist/` folder. You can do so with a simple command.\n\n`gulp`\n\n## grow.json\n\nGrow.js uses a `grow.json` file by default to describe itself and its api. \n\nYou will need to create a `grow.json` file to connect to a Common Garden Grow app instance (local or in the cloud). When connecting to the Grow-IoT server, grow.js prvodes info in the grow.json file so that the server and uses this to create both the UI and API.\n\nThe grow file is also used for state, in case the device looses internet connnection or power, and needs to reset.\n\nHere is an example for a simple Ph sensor:\n\n```\n{\n    \"thing\": {\n        \"name\": \"Ph sensor\",\n        \"description\": \"An ph sensor.\",\n        \"type\": \"ph\",\n        \"class\": \"sensor\",\n        \"unit\": \"ph\",\n        \"actions\": [\n            {\n                \"name\": \"Log ph data\",\n                \"call\": \"log_ph\",\n                \"schedule\": \"every 1 minute\",\n                \"event-message\": \"Watered plant for 20 seconds\"\n            }\n        ]\n    }\n}\n```\n\n### The 'thing' object\nNote the \"thing\" object. This is where we are defining what the device or thing (as in Internet of Things) *is*.\n\nThings can support properties, events, actions. Things can also have `components`, or a list thing objects that comprise a thing.\n\n```\n\"thing\": {\n        \"name\": \"Smart Pot\",\n        \"description\": \"An example growkit.\",\n        \"type\": \"growkit\",\n        \"components\": [\n            {\n                \"name\": \"Light sensor\",\n                \"type\": \"light-sensor\",\n                \"class\": \"sensor\",\n                \"vRef\": 4.96,\n                \"unit\": \"milivolts\",\n                \"actions\": [\n                    {\n                        \"name\": \"Log light data\",\n                        \"call\": \"log_light\",\n                        \"sechedule\": \"every 1 second\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Water level sensor\",\n                \"type\": \"liquid-level\",\n                \"class\": \"sensor\",\n                \"vRef\": 3.3,\n                \"unit\": \"milivolts\",\n                \"events\": [\n                    {\n                        \"name\": \"Water level low\",\n                        \"message\": \"Refill the water resevoir. You can water the plant like you would any other, the water will drain into the resevoir and this notification will go away.\"\n                    }\n                ],\n                \"actions\": [\n                    {\n                        \"name\": \"Check water level\",\n                        \"call\": \"check_water_level\",\n                        \"options\": {\n                            \"threshold\": 3\n                        },\n                        \"schedule\": \"every 1 second\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Temperature sensor\",\n                \"type\": \"temperature\",\n                \"class\": \"sensor\",\n                \"unit\": \"Celcius\",\n                \"actions\": [\n                    {\n                        \"name\": \"Log temperature data\",\n                        \"call\": \"log_temperature\",\n                        \"options\": {\n                            \"unit\": \"C\"\n                        },\n                        \"schedule\": \"every 1 minute\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"pH sensor\",\n                \"type\": \"ph\",\n                \"unit\": \"ph\",\n                \"class\": \"sensor\",\n                \"actions\": [\n                    {\n                        \"name\": \"Log ph data\",\n                        \"call\": \"log_ph\",\n                        \"schedule\": \"every 1 minute\",\n                        \"event-message\": \"Watered plant for 20 seconds\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Water pump\",\n                \"type\": \"water-pump\",\n                \"class\": \"actuator\",\n                \"state\": \"off\",\n                \"actions\": [\n                    {\n                        \"name\": \"Water plant\",\n                        \"call\": \"waterPlant\",\n                        \"options\": {\n                            \"duration\": \"20 seconds\"\n                        },\n                        \"schedule\": \"at 10:15am\",\n                        \"event-message\": \"Watered plant for 20 seconds\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"Light\",\n                \"type\": \"relay\",\n                \"class\": \"actuator\",\n                \"state\": \"on\",\n                \"actions\": [\n                    {\n                        \"name\": \"On\",\n                        \"call\": \"light_on\",\n                        \"state\": \"on\",\n                        \"schedule\": \"at 9:00am\",\n                        \"event-message\": \"Light turned on\"\n                    },\n                    {\n                        \"name\": \"off\",\n                        \"call\": \"light_off\",\n                        \"state\": \"off\",\n                        \"schedule\": \"at 8:30pm\",\n                        \"event-message\": \"Light turned off\"\n                    }\n                ]\n            }\n        ]\n    }\n}\n```\n\n## Implementation\n\nIn addition to the `grow.json` file you will need an implementation. This is where you define the functions that are referenced in the grow file. In the above example, in the list of actions, `log_ph` is the call for the action. Grow.js will expect that function to be defined in the implementation.\n\n```\n\nvar GrowInstance = require('grow.js');\nvar five = require('johnny-five');\nvar growfile = require('./ph-sensor.json');\nvar board = new five.Board();\n\n// When the board is ready we run the callback function start()\nboard.on(\"ready\", function start() {\n  var phSensor = new five.Sensor(\"A0\");\n\n  // On Johnny-five's change event we add the reading to grow.js's\n  // sensor utilities.\n  phSensor.on(\"change\", function() {\n    grow.ph.addReading(this.value);\n  });\n\n  // Here we create the grow instance and pass in the implemnetation and \n  // growfile.\n  var grow = new GrowInstance({\n    log_ph: function () {\n      reading = grow.ph.log_ph();\n      grow.readableStream.push(reading);\n    }\n  }, growfile);\n});\n\n```\n\n\n### Host / Port\nThe host is where the device will be looking for a CommonGarden-IoT instance. By default the host is set to `localhost` and the port is set to Meteor's standard of `3000`. This will work nicely for usb devices like Arduino.\n\nIf connecting over wifi this needs to be set to your computer's IP address. Simply specify it in your grow.json file.\n\n```\n    \"host\": \"localhost\",\n    \"port\": \"3000\",\n    \"thing\": {...}\n```\n\nLikewise if you are hosting in the cloud, it should be set to the instance IP address.\n\n### Example drivers:\n\n* Simple LED light example: https://github.com/CommonGarden/cg-led-light-arduino\n* Arduino Growkit: https://github.com/CommonGarden/growkit-arduino\n* See the examples folder.\n\n\n",
  "readmeFilename": "README.md",
  "description": "[![Slack Status](http://slack.commongarden.org/badge.svg)](http://slack.commongarden.org) | [Feature Requests](http://forum.commongarden.org/c/feature-requests) | [General Feedback](http://forum.commongarden.org/c/feedback)",
  "homepage": "https://github.com/CommonGarden/grow.js",
  "_id": "grow.js@0.1.2",
  "_shasum": "6b4121a2334b09382fd97cd31a9e05d9c850880e",
  "_from": "grow.js@^0.1.2"
}
